<div {{ attributes }}>
    {{ form_start(form, {attr: {class: 'space-y-6'}}) }}
        <div class="space-y-6">
            {{ form_row(form.name, {
                label_attr: {class: 'form-label'},
                attr: {class: 'form-input'}
            }) }}

            {# Bind the Type field to the LiveProp "typeId" so changing it rebuilds choices #}
            {{ form_row(form.type, {
                label_attr: {class: 'form-label'},
                attr: {
                    'data-model': 'typeId',
                    'class': 'form-select'
                }
            }) }}

            {# Breeds widget uses filtered choices injected by the component #}
            {{ form_row(form.breeds, {
                label_attr: {class: 'form-label'},
                attr: {class: 'form-select'}
            }) }}

            <div>
                <label class="form-label">{{ form_label(form.sex) }}</label>
                <div class="form-radio-group">
                    {% for choice in form.sex %}
                        <div class="flex items-center">
                            {{ form_widget(choice, {attr: {class: 'form-radio'}}) }}
                            <label for="{{ choice.vars.id }}" class="form-radio-label">
                                {{ choice.vars.label }}
                            </label>
                        </div>
                    {% endfor %}
                </div>
                {{ form_errors(form.sex, {attr: {class: 'form-error'}}) }}
            </div>
        </div>

        <div class="flex gap-3 pt-4">
            <button type="submit" class="btn btn-primary" data-action="live#action" data-live-action-param="save">
                Save
            </button>
        </div>
    {{ form_end(form) }}
</div>
